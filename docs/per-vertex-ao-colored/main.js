!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=23)}([function(t,n){t.exports=window},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(26);n.regl=e(),n.propBinder=function(t){return function(n){return t.prop(n)}}},function(t,n){var r=9007199254740991,e="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=Object.prototype,u=a.hasOwnProperty,c=a.toString,s=a.propertyIsEnumerable;t.exports=function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var n=function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?c.call(t):"";return n==o||n==i}(t)}(t)}(t)&&u.call(t,"callee")&&(!s.call(t,"callee")||c.call(t)==e)}},function(t,n){var r="[object Function]",e=/^\[object .+?Constructor\]$/;function o(t){return!!t&&"object"==typeof t}var i,a,u,c=Object.prototype,s=Function.prototype.toString,f=c.hasOwnProperty,l=c.toString,p=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=(i=Array,a="isArray",function(t){return null!=t&&(function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)&&l.call(t)==r}(t)?p.test(s.call(t)):o(t)&&e.test(t))}(u=null==i?void 0:i[a])?u:void 0),h=9007199254740991;var d=v||function(t){return o(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}(t.length)&&"[object Array]"==l.call(t)};t.exports=d},function(t,n){var r="Expected a function",e=Math.max;t.exports=function(t,n){if("function"!=typeof t)throw new TypeError(r);return n=e(void 0===n?t.length-1:+n||0,0),function(){for(var r=arguments,o=-1,i=e(r.length-n,0),a=Array(i);++o<i;)a[o]=r[n+o];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var u=Array(n+1);for(o=-1;++o<n;)u[o]=r[o];return u[n]=a,t.apply(this,u)}}},function(t,n,r){var e=r(2),o=r(3),i=/^\d+$/,a=Object.prototype.hasOwnProperty,u=9007199254740991;function c(t,n){return t="number"==typeof t||i.test(t)?+t:-1,n=null==n?u:n,t>-1&&t%1==0&&t<n}t.exports=function(t){if(null==t)return[];var n,r;r=typeof(n=t),(!n||"object"!=r&&"function"!=r)&&(t=Object(t));var i=t.length;i=i&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}(i)&&(o(t)||e(t))&&i||0;for(var s=t.constructor,f=-1,l="function"==typeof s&&s.prototype===t,p=Array(i),v=i>0;++f<i;)p[f]=f+"";for(var h in t)v&&c(h,i)||"constructor"==h&&(l||!a.call(t,h))||p.push(h);return p}},function(t,n,r){t.exports={create:r(43),clone:r(44),copy:r(45),identity:r(7),transpose:r(46),invert:r(47),adjoint:r(48),determinant:r(49),multiply:r(50),translate:r(51),scale:r(52),rotate:r(53),rotateX:r(54),rotateY:r(55),rotateZ:r(56),fromRotation:r(57),fromRotationTranslation:r(58),fromScaling:r(59),fromTranslation:r(60),fromXRotation:r(61),fromYRotation:r(62),fromZRotation:r(63),fromQuat:r(64),frustum:r(65),perspective:r(66),perspectiveFromFieldOfView:r(67),ortho:r(68),lookAt:r(69),str:r(70)}},function(t,n){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n,r){"use strict";var e=r(72),o=r(73),i="array of arrays",a="array of typed arrays",u="flat array",c="typed array",s="ndarray";t.exports={identify:function(t){if(Array.isArray(t)&&Array.isArray(t[0]))return i;if(Array.isArray(t)&&e(t[0]))return a;if(Array.isArray(t))return u;if(o(t))return s;if(e(t))return c;throw new Error("geo-identify-position-format: Could not identify position format.")},ARRAY_OF_ARRAYS:i,ARRAY_OF_TYPED_ARRAYS:a,FLAT_ARRAY:u,TYPED_ARRAY:c,NDARRAY:s}},function(t,n,r){"use strict";var e=r(8),o=r(74);t.exports={convert:function(t,n,r){if(n=void 0===n?e.TYPED_ARRAY:n,-1===[e.FLAT_ARRAY,e.ARRAY_OF_ARRAYS,e.TYPED_ARRAY,e.ARRAY_OF_TYPED_ARRAYS,e.NDARRAY].indexOf(n))throw new Error("geo-convert-position-format: Unknown target format "+n);var i,a=e.identify(t);if(a===e.FLAT_ARRAY)i=new Float32Array(t);else if(a===e.TYPED_ARRAY)i=new Float32Array(t);else if(a===e.ARRAY_OF_ARRAYS){i=[];for(var u=0;u<t.length;u++)i.push.apply(i,t[u]);i=new Float32Array(i)}else if(a===e.ARRAY_OF_TYPED_ARRAYS){i=[];for(var u=0;u<t.length;u++)i.push.apply(i,t[u]);i=new Float32Array(i)}else{if(a!==e.NDARRAY)throw new Error("geo-convert-position-format: Could not convert from incoming format "+a);i=new Float32Array(t.data)}void 0===r&&(r=i.length%3==0?3:i.length%2==0?2:1);if(-1===[1,2,3].indexOf(r))throw new Error("geo-convert-position-format: Stride "+r+" not a valid stride - must be 1, 2, or 3");if(i.length%r!=0)throw new Error("geo-convert-position-format: Stride "+r+" incompatible with element count "+i.length);if(n===e.TYPED_ARRAY)return i;if(n===e.FLAT_ARRAY)return Array.prototype.slice.call(i);if(n===e.ARRAY_OF_ARRAYS){for(var c=[],u=0,s=0,f=i.length/r;s<f;s++){for(var l=[],p=0;p<r;p++)l.push(i[u++]);c.push(l)}return c}if(n===e.ARRAY_OF_TYPED_ARRAYS){for(var c=[],u=0,s=0,f=i.length/r;s<f;s++){for(var l=[],p=0;p<r;p++)l.push(i[u++]);c.push(new Float32Array(l))}return c}if(n===e.NDARRAY)return o(i);throw new Error("geo-convert-position-format: Could not convert to target format "+n)},FLAT_ARRAY:e.FLAT_ARRAY,ARRAY_OF_ARRAYS:e.ARRAY_OF_ARRAYS,TYPED_ARRAY:e.TYPED_ARRAY,ARRAY_OF_TYPED_ARRAYS:e.ARRAY_OF_TYPED_ARRAYS,NDARRAY:e.NDARRAY}},function(t,n){t.exports=1e-6},function(t,n){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,n){t.exports=function(t,n,r){var e=new Float32Array(3);return e[0]=t,e[1]=n,e[2]=r,e}},function(t,n){t.exports=function(t,n){var r=n[0],e=n[1],o=n[2],i=r*r+e*e+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i);return t}},function(t,n){t.exports=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}},function(t,n){t.exports=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}},function(t,n){t.exports=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}},function(t,n){t.exports=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}},function(t,n){t.exports=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(r*r+e*e+o*o)}},function(t,n){t.exports=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return r*r+e*e+o*o}},function(t,n){t.exports=function(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}},function(t,n){t.exports=function(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(1);!function(t){for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r])}(r(116)),n.fbo=function(t,n){return e.regl.framebuffer({width:t,height:void 0!==n?n:t,colorFormat:"rgba",colorType:"uint8"})},n.getSmallestPOTSize=function(t){for(var n=1;n*n<t;)n*=2;return n}},function(t,n,r){"use strict";var e=this&&this.__awaiter||function(t,n,r,e){return new(r||(r=Promise))(function(o,i){function a(t){try{c(e.next(t))}catch(t){i(t)}}function u(t){try{c(e.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new r(function(n){n(t.value)}).then(a,u)}c((e=e.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var r,e,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,e&&(o=2&i[0]?e.return:i[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,i[1])).done)return o;switch(e=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,e=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],e=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(n,"__esModule",{value:!0}),r(24);var i=r(0),a=r(25),u=r(114),c=r(115);function s(t,n){void 0===n&&(n=!1);var r=Math.round(100*t),e=["progress-circle","p"+r];r>50&&e.push("over50"),n&&e.push("hidden");var o=document.getElementById("progress-circle"),i=document.getElementById("progress-text");o.className=e.join(" "),i.innerText=r+"%"}function f(t,n){return e(this,void 0,void 0,function(){var r,e,a,s,f,l,p,v,h,d,y,m,b,g,x,A;return o(this,function(o){switch(o.label){case 0:return r=t.positions.length/3,e=u.createSampleCollection(t,.1),[4,c.renderSamples(t,e.all,n)];case 1:for(a=o.sent(),l=0;l<a.length;l++)e.all[l].value=a[l];for(s=new Float32Array(r),f=i.vec3.create(),l=0;l<r;l++){for(p=e.perVertex[l],v=p.length,i.vec3.copyFromOffset(f,t.positions,3*l),h=0,d=0,y=[],m=[],x=0;x<v;x++)h=i.vec3.dist(f,p[x].position),d+=h,y.push(h),m.push(p[x].value);for(b=0,g=0,x=0;x<v;x++)A=1-y[x]/d,g+=A,b+=m[x]*A;b/=g,s[l]=1-b}return[2,s]}})})}!function(){e(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return[4,fetch("resources/pirate_ship.json")];case 1:return[4,r.sent().json()];case 2:return(t=r.sent()).colors=t.colors.Col,n=t,[4,f(t,{onProgress:s,near:.1,far:10,fov:.7*Math.PI,sampleSize:16})];case 3:return n.ao=r.sent(),s(1,!0),a.renderModel(t),[2]}})})}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(0);e.vec3.UP=e.vec3.fromValues(0,1,0),e.vec3.DOWN=e.vec3.fromValues(0,-1,0),e.vec3.LEFT=e.vec3.fromValues(-1,0,0),e.vec3.RIGHT=e.vec3.fromValues(1,0,0),e.vec3.ONE=e.vec3.fromValues(1,1,1),e.vec3.ZERO=e.vec3.fromValues(0,0,0),e.vec3.copyFromOffset=function(t,n,r){return t[0]=n[r+0],t[1]=n[r+1],t[2]=n[r+2],t}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(1),o=r(0),i=r(27),a=r(111);n.renderModel=function(t){var n=document.getElementsByTagName("canvas")[0],u=i(t.positions,{center:[0,-.5,0]}),c=new a(n,{onRotate:h,drag:.01}),s={position:e.regl.buffer(u)};t.colors&&(s.color=t.colors),t.ao&&(s.occlusion=t.ao);var f=e.regl({vert:r(112),frag:r(113),uniforms:{colorMix:t.colors?1:0,aoMix:t.ao?1:0},attributes:s,elements:e.regl.elements(t.indices),cull:{enable:!0,face:"back"}}),l=32;window.addEventListener("wheel",function(t){t.deltaY<0?l*=.9:t.deltaY>0&&(l*=1.1),l=Math.max(2,Math.min(64,l)),h()});var p=o.mat4.create(),v=o.mat4.create();function h(){n.width=n.clientWidth,n.height=n.clientHeight,o.mat4.lookAt(p,[0,0,l],[0,0,0],[0,1,0]),o.mat4.perspective(v,Math.PI/4,n.width/n.height,.1,1e3),f(function(){e.regl.clear({color:[.3,.3,.3,1],depth:1}),e.regl({uniforms:{model:c.rotation,view:p,projection:v},viewport:{x:0,y:0,width:n.width,height:n.height}})()})}c.spin(15,0)}},function(t,n){t.exports=createREGL},function(t,n,r){"use strict";var e=r(28),o=r(42),i=r(6),a=r(71),u=r(9);t.exports=function(t,n){n=e(n=n||{},{center:[0,0,0]}),t=u.convert(t,u.ARRAY_OF_ARRAYS);var r=o(t),c=[-.5*(r[0][0]+r[1][0])+n.center[0],-.5*(r[0][1]+r[1][1])+n.center[1],-.5*(r[0][2]+r[1][2])+n.center[2]],s=i.create();return i.translate(s,s,c),a(t,s)}},function(t,n,r){var e=r(29),o=r(4);var i,a,u=(i=e,a=function t(n,r){return void 0===n?r:e(n,r,t)},o(function(t){var n=t[0];return null==n?n:(t.push(a),i.apply(void 0,t))}));t.exports=u},function(t,n,r){var e=r(30),o=r(31),i=r(32),a=r(2),u=r(3),c=r(35),s=r(37),f=r(38),l=r(40);var p=9007199254740991;var v,h=(v="length",function(t){return null==t?void 0:t[v]});function d(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}(h(t))}var y=i(function t(n,r,i,p,v){if(y=typeof(h=n),!h||"object"!=y&&"function"!=y)return n;var h,y,m=d(r)&&(u(r)||s(r)),b=m?void 0:f(r);return o(b||r,function(o,f){if(b&&(o=r[f=o]),function(t){return!!t&&"object"==typeof t}(o))p||(p=[]),v||(v=[]),function(t,n,r,o,i,f,p){for(var v=f.length,h=n[r];v--;)if(f[v]==h)return void(t[r]=p[v]);var y=t[r],m=i?i(y,h,r,t,n):void 0,b=void 0===m;b&&(m=h,d(h)&&(u(h)||s(h))?m=u(y)?y:d(y)?e(y):[]:c(h)||a(h)?m=a(y)?l(y):c(y)?y:{}:b=!1),f.push(h),p.push(m),b?t[r]=o(m,h,i,f,p):(m==m?m!==y:y==y)&&(t[r]=m)}(n,r,f,t,i,p,v);else{var h=n[f],y=i?i(h,o,f,n,r):void 0,g=void 0===y;g&&(y=o),void 0===y&&(!m||f in n)||!g&&(y==y?y===h:h!=h)||(n[f]=y)}}),n});t.exports=y},function(t,n){t.exports=function(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}},function(t,n){t.exports=function(t,n){for(var r=-1,e=t.length;++r<e&&!1!==n(t[r],r,t););return t}},function(t,n,r){var e=r(33),o=r(34),i=r(4);t.exports=function(t){return i(function(n,r){var i=-1,a=null==n?0:r.length,u=a>2?r[a-2]:void 0,c=a>2?r[2]:void 0,s=a>1?r[a-1]:void 0;for("function"==typeof u?(u=e(u,s,5),a-=2):a-=(u="function"==typeof s?s:void 0)?1:0,c&&o(r[0],r[1],c)&&(u=a<3?void 0:u,a=1);++i<a;){var f=r[i];f&&t(n,f,u)}return n})}},function(t,n){function r(t){return t}t.exports=function(t,n,e){if("function"!=typeof t)return r;if(void 0===n)return t;switch(e){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,o){return t.call(n,r,e,o)};case 4:return function(r,e,o,i){return t.call(n,r,e,o,i)};case 5:return function(r,e,o,i,a){return t.call(n,r,e,o,i,a)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r=/^\d+$/,e=9007199254740991;var o,i=(o="length",function(t){return null==t?void 0:t[o]});function a(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(i(t))}t.exports=function(t,n,o){if(!function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(o))return!1;var i=typeof n;if("number"==i?a(o)&&function(t,n){return t="number"==typeof t||r.test(t)?+t:-1,n=null==n?e:n,t>-1&&t%1==0&&t<n}(n,o.length):"string"==i&&n in o){var u=o[n];return t==t?t===u:u!=u}return!1}},function(t,n,r){var e=r(36),o=r(2),i=r(5),a="[object Object]";var u=Object.prototype,c=u.hasOwnProperty,s=u.toString;t.exports=function(t){var n,r;return!(!function(t){return!!t&&"object"==typeof t}(t)||s.call(t)!=a||o(t)||!(c.call(t,"constructor")||"function"!=typeof(n=t.constructor)||n instanceof n))&&(e(t,function(t,n){r=n},i),void 0===r||c.call(t,r))}},function(t,n){var r,e=function(t,n,e){for(var o=-1,i=Object(t),a=e(t),u=a.length;u--;){var c=a[r?u:++o];if(!1===n(i[c],c,i))break}return t};t.exports=e},function(t,n){var r=9007199254740991,e={};e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e["[object Arguments]"]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object Boolean]"]=e["[object DataView]"]=e["[object Date]"]=e["[object Error]"]=e["[object Function]"]=e["[object Map]"]=e["[object Number]"]=e["[object Object]"]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object WeakMap]"]=!1;var o=Object.prototype.toString;t.exports=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!!e[o.call(t)]}},function(t,n,r){var e=r(39),o=r(2),i=r(3),a=/^\d+$/,u=Object.prototype.hasOwnProperty,c=e(Object,"keys"),s=9007199254740991;var f,l=(f="length",function(t){return null==t?void 0:t[f]});function p(t,n){return t="number"==typeof t||a.test(t)?+t:-1,n=null==n?s:n,t>-1&&t%1==0&&t<n}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function h(t){for(var n=function(t){if(null==t)return[];d(t)||(t=Object(t));var n=t.length;n=n&&v(n)&&(i(t)||o(t))&&n||0;var r=t.constructor,e=-1,a="function"==typeof r&&r.prototype===t,c=Array(n),s=n>0;for(;++e<n;)c[e]=e+"";for(var f in t)s&&p(f,n)||"constructor"==f&&(a||!u.call(t,f))||c.push(f);return c}(t),r=n.length,e=r&&t.length,a=!!e&&v(e)&&(i(t)||o(t)),c=-1,s=[];++c<r;){var f=n[c];(a&&p(f,e)||u.call(t,f))&&s.push(f)}return s}function d(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var y=c?function(t){var n,r=null==t?void 0:t.constructor;return"function"==typeof r&&r.prototype===t||"function"!=typeof t&&(null!=(n=t)&&v(l(n)))?h(t):d(t)?c(t):[]}:h;t.exports=y},function(t,n){var r="[object Function]",e=/^\[object .+?Constructor\]$/;var o=Object.prototype,i=Function.prototype.toString,a=o.hasOwnProperty,u=o.toString,c=RegExp("^"+i.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t,n){var o=null==t?void 0:t[n];return function(t){return null!=t&&(function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)&&u.call(t)==r}(t)?c.test(i.call(t)):function(t){return!!t&&"object"==typeof t}(t)&&e.test(t))}(o)?o:void 0}},function(t,n,r){var e=r(41),o=r(5);t.exports=function(t){return e(t,o(t))}},function(t,n){t.exports=function(t,n,r){r||(r={});for(var e=-1,o=n.length;++e<o;){var i=n[e];r[i]=t[i]}return r}},function(t,n){t.exports=function(t){if(0===t.length)return null;for(var n=t[0].length,r=new Array(n),e=new Array(n),o=0;o<n;o++)r[o]=1/0,e[o]=-1/0;return t.forEach(function(t){for(var o=0;o<n;o++)e[o]=t[o]>e[o]?t[o]:e[o],r[o]=t[o]<r[o]?t[o]:r[o]}),[r,e]}},function(t,n){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t){var n=new Float32Array(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}},function(t,n){t.exports=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}},function(t,n){t.exports=function(t,n){if(t===n){var r=n[1],e=n[2],o=n[3],i=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=i,t[11]=n[14],t[12]=o,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}},function(t,n){t.exports=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=n[4],u=n[5],c=n[6],s=n[7],f=n[8],l=n[9],p=n[10],v=n[11],h=n[12],d=n[13],y=n[14],m=n[15],b=r*u-e*a,g=r*c-o*a,x=r*s-i*a,A=e*c-o*u,w=e*s-i*u,j=o*s-i*c,M=f*d-l*h,R=f*y-p*h,_=f*m-v*h,F=l*y-p*d,O=l*m-v*d,S=p*m-v*y,Y=b*S-g*O+x*F+A*_-w*R+j*M;if(!Y)return null;return Y=1/Y,t[0]=(u*S-c*O+s*F)*Y,t[1]=(o*O-e*S-i*F)*Y,t[2]=(d*j-y*w+m*A)*Y,t[3]=(p*w-l*j-v*A)*Y,t[4]=(c*_-a*S-s*R)*Y,t[5]=(r*S-o*_+i*R)*Y,t[6]=(y*x-h*j-m*g)*Y,t[7]=(f*j-p*x+v*g)*Y,t[8]=(a*O-u*_+s*M)*Y,t[9]=(e*_-r*O-i*M)*Y,t[10]=(h*w-d*x+m*b)*Y,t[11]=(l*x-f*w-v*b)*Y,t[12]=(u*R-a*F-c*M)*Y,t[13]=(r*F-e*R+o*M)*Y,t[14]=(d*g-h*A-y*b)*Y,t[15]=(f*A-l*g+p*b)*Y,t}},function(t,n){t.exports=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=n[4],u=n[5],c=n[6],s=n[7],f=n[8],l=n[9],p=n[10],v=n[11],h=n[12],d=n[13],y=n[14],m=n[15];return t[0]=u*(p*m-v*y)-l*(c*m-s*y)+d*(c*v-s*p),t[1]=-(e*(p*m-v*y)-l*(o*m-i*y)+d*(o*v-i*p)),t[2]=e*(c*m-s*y)-u*(o*m-i*y)+d*(o*s-i*c),t[3]=-(e*(c*v-s*p)-u*(o*v-i*p)+l*(o*s-i*c)),t[4]=-(a*(p*m-v*y)-f*(c*m-s*y)+h*(c*v-s*p)),t[5]=r*(p*m-v*y)-f*(o*m-i*y)+h*(o*v-i*p),t[6]=-(r*(c*m-s*y)-a*(o*m-i*y)+h*(o*s-i*c)),t[7]=r*(c*v-s*p)-a*(o*v-i*p)+f*(o*s-i*c),t[8]=a*(l*m-v*d)-f*(u*m-s*d)+h*(u*v-s*l),t[9]=-(r*(l*m-v*d)-f*(e*m-i*d)+h*(e*v-i*l)),t[10]=r*(u*m-s*d)-a*(e*m-i*d)+h*(e*s-i*u),t[11]=-(r*(u*v-s*l)-a*(e*v-i*l)+f*(e*s-i*u)),t[12]=-(a*(l*y-p*d)-f*(u*y-c*d)+h*(u*p-c*l)),t[13]=r*(l*y-p*d)-f*(e*y-o*d)+h*(e*p-o*l),t[14]=-(r*(u*y-c*d)-a*(e*y-o*d)+h*(e*c-o*u)),t[15]=r*(u*p-c*l)-a*(e*p-o*l)+f*(e*c-o*u),t}},function(t,n){t.exports=function(t){var n=t[0],r=t[1],e=t[2],o=t[3],i=t[4],a=t[5],u=t[6],c=t[7],s=t[8],f=t[9],l=t[10],p=t[11],v=t[12],h=t[13],d=t[14],y=t[15];return(n*a-r*i)*(l*y-p*d)-(n*u-e*i)*(f*y-p*h)+(n*c-o*i)*(f*d-l*h)+(r*u-e*a)*(s*y-p*v)-(r*c-o*a)*(s*d-l*v)+(e*c-o*u)*(s*h-f*v)}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=n[3],u=n[4],c=n[5],s=n[6],f=n[7],l=n[8],p=n[9],v=n[10],h=n[11],d=n[12],y=n[13],m=n[14],b=n[15],g=r[0],x=r[1],A=r[2],w=r[3];return t[0]=g*e+x*u+A*l+w*d,t[1]=g*o+x*c+A*p+w*y,t[2]=g*i+x*s+A*v+w*m,t[3]=g*a+x*f+A*h+w*b,g=r[4],x=r[5],A=r[6],w=r[7],t[4]=g*e+x*u+A*l+w*d,t[5]=g*o+x*c+A*p+w*y,t[6]=g*i+x*s+A*v+w*m,t[7]=g*a+x*f+A*h+w*b,g=r[8],x=r[9],A=r[10],w=r[11],t[8]=g*e+x*u+A*l+w*d,t[9]=g*o+x*c+A*p+w*y,t[10]=g*i+x*s+A*v+w*m,t[11]=g*a+x*f+A*h+w*b,g=r[12],x=r[13],A=r[14],w=r[15],t[12]=g*e+x*u+A*l+w*d,t[13]=g*o+x*c+A*p+w*y,t[14]=g*i+x*s+A*v+w*m,t[15]=g*a+x*f+A*h+w*b,t}},function(t,n){t.exports=function(t,n,r){var e,o,i,a,u,c,s,f,l,p,v,h,d=r[0],y=r[1],m=r[2];n===t?(t[12]=n[0]*d+n[4]*y+n[8]*m+n[12],t[13]=n[1]*d+n[5]*y+n[9]*m+n[13],t[14]=n[2]*d+n[6]*y+n[10]*m+n[14],t[15]=n[3]*d+n[7]*y+n[11]*m+n[15]):(e=n[0],o=n[1],i=n[2],a=n[3],u=n[4],c=n[5],s=n[6],f=n[7],l=n[8],p=n[9],v=n[10],h=n[11],t[0]=e,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=p,t[10]=v,t[11]=h,t[12]=e*d+u*y+l*m+n[12],t[13]=o*d+c*y+p*m+n[13],t[14]=i*d+s*y+v*m+n[14],t[15]=a*d+f*y+h*m+n[15]);return t}},function(t,n){t.exports=function(t,n,r){var e=r[0],o=r[1],i=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=n[11]*i,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}},function(t,n){t.exports=function(t,n,r,e){var o,i,a,u,c,s,f,l,p,v,h,d,y,m,b,g,x,A,w,j,M,R,_,F,O=e[0],S=e[1],Y=e[2],P=Math.sqrt(O*O+S*S+Y*Y);if(Math.abs(P)<1e-6)return null;O*=P=1/P,S*=P,Y*=P,o=Math.sin(r),i=Math.cos(r),a=1-i,u=n[0],c=n[1],s=n[2],f=n[3],l=n[4],p=n[5],v=n[6],h=n[7],d=n[8],y=n[9],m=n[10],b=n[11],g=O*O*a+i,x=S*O*a+Y*o,A=Y*O*a-S*o,w=O*S*a-Y*o,j=S*S*a+i,M=Y*S*a+O*o,R=O*Y*a+S*o,_=S*Y*a-O*o,F=Y*Y*a+i,t[0]=u*g+l*x+d*A,t[1]=c*g+p*x+y*A,t[2]=s*g+v*x+m*A,t[3]=f*g+h*x+b*A,t[4]=u*w+l*j+d*M,t[5]=c*w+p*j+y*M,t[6]=s*w+v*j+m*M,t[7]=f*w+h*j+b*M,t[8]=u*R+l*_+d*F,t[9]=c*R+p*_+y*F,t[10]=s*R+v*_+m*F,t[11]=f*R+h*_+b*F,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}},function(t,n){t.exports=function(t,n,r){var e=Math.sin(r),o=Math.cos(r),i=n[4],a=n[5],u=n[6],c=n[7],s=n[8],f=n[9],l=n[10],p=n[11];n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[4]=i*o+s*e,t[5]=a*o+f*e,t[6]=u*o+l*e,t[7]=c*o+p*e,t[8]=s*o-i*e,t[9]=f*o-a*e,t[10]=l*o-u*e,t[11]=p*o-c*e,t}},function(t,n){t.exports=function(t,n,r){var e=Math.sin(r),o=Math.cos(r),i=n[0],a=n[1],u=n[2],c=n[3],s=n[8],f=n[9],l=n[10],p=n[11];n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=i*o-s*e,t[1]=a*o-f*e,t[2]=u*o-l*e,t[3]=c*o-p*e,t[8]=i*e+s*o,t[9]=a*e+f*o,t[10]=u*e+l*o,t[11]=c*e+p*o,t}},function(t,n){t.exports=function(t,n,r){var e=Math.sin(r),o=Math.cos(r),i=n[0],a=n[1],u=n[2],c=n[3],s=n[4],f=n[5],l=n[6],p=n[7];n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=i*o+s*e,t[1]=a*o+f*e,t[2]=u*o+l*e,t[3]=c*o+p*e,t[4]=s*o-i*e,t[5]=f*o-a*e,t[6]=l*o-u*e,t[7]=p*o-c*e,t}},function(t,n){t.exports=function(t,n,r){var e,o,i,a=r[0],u=r[1],c=r[2],s=Math.sqrt(a*a+u*u+c*c);if(Math.abs(s)<1e-6)return null;return a*=s=1/s,u*=s,c*=s,e=Math.sin(n),o=Math.cos(n),i=1-o,t[0]=a*a*i+o,t[1]=u*a*i+c*e,t[2]=c*a*i-u*e,t[3]=0,t[4]=a*u*i-c*e,t[5]=u*u*i+o,t[6]=c*u*i+a*e,t[7]=0,t[8]=a*c*i+u*e,t[9]=u*c*i-a*e,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=n[3],u=e+e,c=o+o,s=i+i,f=e*u,l=e*c,p=e*s,v=o*c,h=o*s,d=i*s,y=a*u,m=a*c,b=a*s;return t[0]=1-(v+d),t[1]=l+b,t[2]=p-m,t[3]=0,t[4]=l-b,t[5]=1-(f+d),t[6]=h+y,t[7]=0,t[8]=p+m,t[9]=h-y,t[10]=1-(f+v),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},function(t,n){t.exports=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},function(t,n){t.exports=function(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=r+r,u=e+e,c=o+o,s=r*a,f=e*a,l=e*u,p=o*a,v=o*u,h=o*c,d=i*a,y=i*u,m=i*c;return t[0]=1-l-h,t[1]=f+m,t[2]=p-y,t[3]=0,t[4]=f-m,t[5]=1-s-h,t[6]=v+d,t[7]=0,t[8]=p+y,t[9]=v-d,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,n){t.exports=function(t,n,r,e,o,i,a){var u=1/(r-n),c=1/(o-e),s=1/(i-a);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(r+n)*u,t[9]=(o+e)*c,t[10]=(a+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*s,t[15]=0,t}},function(t,n){t.exports=function(t,n,r,e,o){var i=1/Math.tan(n/2),a=1/(e-o);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+e)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*e*a,t[15]=0,t}},function(t,n){t.exports=function(t,n,r,e){var o=Math.tan(n.upDegrees*Math.PI/180),i=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),c=2/(a+u),s=2/(o+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*c*.5,t[9]=(o-i)*s*.5,t[10]=e/(r-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*r/(r-e),t[15]=0,t}},function(t,n){t.exports=function(t,n,r,e,o,i,a){var u=1/(n-r),c=1/(e-o),s=1/(i-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+r)*u,t[13]=(o+e)*c,t[14]=(a+i)*s,t[15]=1,t}},function(t,n,r){var e=r(7);t.exports=function(t,n,r,o){var i,a,u,c,s,f,l,p,v,h,d=n[0],y=n[1],m=n[2],b=o[0],g=o[1],x=o[2],A=r[0],w=r[1],j=r[2];if(Math.abs(d-A)<1e-6&&Math.abs(y-w)<1e-6&&Math.abs(m-j)<1e-6)return e(t);l=d-A,p=y-w,v=m-j,h=1/Math.sqrt(l*l+p*p+v*v),i=g*(v*=h)-x*(p*=h),a=x*(l*=h)-b*v,u=b*p-g*l,(h=Math.sqrt(i*i+a*a+u*u))?(i*=h=1/h,a*=h,u*=h):(i=0,a=0,u=0);c=p*u-v*a,s=v*i-l*u,f=l*a-p*i,(h=Math.sqrt(c*c+s*s+f*f))?(c*=h=1/h,s*=h,f*=h):(c=0,s=0,f=0);return t[0]=i,t[1]=c,t[2]=l,t[3]=0,t[4]=a,t[5]=s,t[6]=p,t[7]=0,t[8]=u,t[9]=f,t[10]=v,t[11]=0,t[12]=-(i*d+a*y+u*m),t[13]=-(c*d+s*y+f*m),t[14]=-(l*d+p*y+v*m),t[15]=1,t}},function(t,n){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},function(t,n,r){"use strict";var e=r(8),o=r(9),i=r(77);t.exports=function(t,n){for(var r=e.identify(t),a=o.convert(t,e.ARRAY_OF_ARRAYS,3),u=0;u<a.length;u++)i.transformMat4(a[u],a[u],n);return a=o.convert(a,r,3)}},function(t,n){t.exports=o,o.strict=i,o.loose=a;var r=Object.prototype.toString,e={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(t){return i(t)||a(t)}function i(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function a(t){return e[r.call(t)]}},function(t,n){t.exports=function(t){return!!t&&(!!t.dtype&&new RegExp("function View[0-9]+d(:?"+t.dtype+")+").test(String(t.constructor)))}},function(t,n,r){var e=r(75),o=r(76),i="undefined"!=typeof Float64Array;function a(t,n){return t[0]-n[0]}function u(){var t,n=this.stride,r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(n[t]),t];r.sort(a);var e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=r[t][1];return e}function c(t,n){var r=["View",n,"d",t].join("");n<0&&(r="View_Nil"+t);var o="generic"===t;if(-1===n){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===n){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(s[t][0])}i=["'use strict'"];var a=e(n),c=a.map(function(t){return"i"+t}),f="this.offset+"+a.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=a.map(function(t){return"b"+t}).join(","),p=a.map(function(t){return"c"+t}).join(",");i.push("function "+r+"(a,"+l+","+p+",d){this.data=a","this.shape=["+l+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+n),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===n?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),n<4?(i.push("function "+r+"_order(){"),2===n?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===n&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),o?i.push("return this.data.set("+f+",v)}"):i.push("return this.data["+f+"]=v}"),i.push("proto.get=function "+r+"_get("+c.join(",")+"){"),o?i.push("return this.data.get("+f+")}"):i.push("return this.data["+f+"]}"),i.push("proto.index=function "+r+"_index(",c.join(),"){return "+f+"}"),i.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+a.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+a.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var v=a.map(function(t){return"a"+t+"=this.shape["+t+"]"}),h=a.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+v.join(",")+","+h.join(","));for(var d=0;d<n;++d)i.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");i.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+a.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+a.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(d=0;d<n;++d)i.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");i.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"b"+t}).join(",")+",c)}");var y=new Array(n),m=new Array(n);for(d=0;d<n;++d)y[d]="a[i"+d+"]",m[d]="b[i"+d+"]";i.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(t,n){return t+"=("+t+"===undefined?"+n+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+m.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(d=0;d<n;++d)i.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(t){return"shape["+t+"]"}).join(",")+","+a.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(s[t],u)}var s={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,n,r,e){if(void 0===t)return(0,s.array[0])([]);"number"==typeof t&&(t=[t]),void 0===n&&(n=[t.length]);var a=n.length;if(void 0===r){r=new Array(a);for(var u=a-1,f=1;u>=0;--u)r[u]=f,f*=n[u]}if(void 0===e)for(e=0,u=0;u<a;++u)r[u]<0&&(e-=(n[u]-1)*r[u]);for(var l=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),p=s[l];p.length<=a+1;)p.push(c(l,p.length-1));return(0,p[a+1])(t,n,r,e)}},function(t,n,r){"use strict";t.exports=function(t){for(var n=new Array(t),r=0;r<t;++r)n[r]=r;return n}},function(t,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,n,r){t.exports={EPSILON:r(10),create:r(11),clone:r(78),angle:r(79),fromValues:r(12),copy:r(80),set:r(81),equals:r(82),exactEquals:r(83),add:r(84),subtract:r(15),sub:r(85),multiply:r(16),mul:r(86),divide:r(17),div:r(87),min:r(88),max:r(89),floor:r(90),ceil:r(91),round:r(92),scale:r(93),scaleAndAdd:r(94),distance:r(18),dist:r(95),squaredDistance:r(19),sqrDist:r(96),length:r(20),len:r(97),squaredLength:r(21),sqrLen:r(98),negate:r(99),inverse:r(100),normalize:r(13),dot:r(14),cross:r(101),lerp:r(102),random:r(103),transformMat4:r(104),transformMat3:r(105),transformQuat:r(106),rotateX:r(107),rotateY:r(108),rotateZ:r(109),forEach:r(110)}},function(t,n){t.exports=function(t){var n=new Float32Array(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}},function(t,n,r){t.exports=function(t,n){var r=e(t[0],t[1],t[2]),a=e(n[0],n[1],n[2]);o(r,r),o(a,a);var u=i(r,a);return u>1?0:Math.acos(u)};var e=r(12),o=r(13),i=r(14)},function(t,n){t.exports=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}},function(t,n){t.exports=function(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t}},function(t,n,r){t.exports=function(t,n){var r=t[0],o=t[1],i=t[2],a=n[0],u=n[1],c=n[2];return Math.abs(r-a)<=e*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=e*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-c)<=e*Math.max(1,Math.abs(i),Math.abs(c))};var e=r(10)},function(t,n){t.exports=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}},function(t,n){t.exports=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}},function(t,n,r){t.exports=r(15)},function(t,n,r){t.exports=r(16)},function(t,n,r){t.exports=r(17)},function(t,n){t.exports=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}},function(t,n){t.exports=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}},function(t,n){t.exports=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}},function(t,n){t.exports=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}},function(t,n){t.exports=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}},function(t,n){t.exports=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}},function(t,n){t.exports=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t}},function(t,n,r){t.exports=r(18)},function(t,n,r){t.exports=r(19)},function(t,n,r){t.exports=r(20)},function(t,n,r){t.exports=r(21)},function(t,n){t.exports=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}},function(t,n){t.exports=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=r[0],u=r[1],c=r[2];return t[0]=o*c-i*u,t[1]=i*a-e*c,t[2]=e*u-o*a,t}},function(t,n){t.exports=function(t,n,r,e){var o=n[0],i=n[1],a=n[2];return t[0]=o+e*(r[0]-o),t[1]=i+e*(r[1]-i),t[2]=a+e*(r[2]-a),t}},function(t,n){t.exports=function(t,n){n=n||1;var r=2*Math.random()*Math.PI,e=2*Math.random()-1,o=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=e*n,t}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=r[3]*e+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*e+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*e+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*e+r[6]*o+r[10]*i+r[14])/a,t}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2];return t[0]=e*r[0]+o*r[3]+i*r[6],t[1]=e*r[1]+o*r[4]+i*r[7],t[2]=e*r[2]+o*r[5]+i*r[8],t}},function(t,n){t.exports=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=r[0],u=r[1],c=r[2],s=r[3],f=s*e+u*i-c*o,l=s*o+c*e-a*i,p=s*i+a*o-u*e,v=-a*e-u*o-c*i;return t[0]=f*s+v*-a+l*-c-p*-u,t[1]=l*s+v*-u+p*-a-f*-c,t[2]=p*s+v*-c+f*-u-l*-a,t}},function(t,n){t.exports=function(t,n,r,e){var o=r[1],i=r[2],a=n[1]-o,u=n[2]-i,c=Math.sin(e),s=Math.cos(e);return t[0]=n[0],t[1]=o+a*s-u*c,t[2]=i+a*c+u*s,t}},function(t,n){t.exports=function(t,n,r,e){var o=r[0],i=r[2],a=n[0]-o,u=n[2]-i,c=Math.sin(e),s=Math.cos(e);return t[0]=o+u*c+a*s,t[1]=n[1],t[2]=i+u*s-a*c,t}},function(t,n){t.exports=function(t,n,r,e){var o=r[0],i=r[1],a=n[0]-o,u=n[1]-i,c=Math.sin(e),s=Math.cos(e);return t[0]=o+a*s-u*c,t[1]=i+a*c+u*s,t[2]=n[2],t}},function(t,n,r){t.exports=function(t,n,r,o,i,a){var u,c;n||(n=3);r||(r=0);c=o?Math.min(o*n+r,t.length):t.length;for(u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],i(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t};var e=r(11)()},function(t,n,r){var e=r(6);t.exports=function(t,n){var r=this,o=(n=n||{}).speed||.005,i=n.container||window,a=n.onRotate||function(){},u=n.drag||0,c=n.invert||!1;c=c?-1:1,r.rotation=e.create();var s={x:0,y:0,dx:0,dy:0,dz:0,down:!1};r.rotate=function(t,n){var i=e.create();e.rotateY(i,i,t*o),e.rotateX(i,i,n*o),e.multiply(r.rotation,i,r.rotation),a()},r.spin=function(t,n){s.dx=t,s.dy=n},function t(){if(requestAnimationFrame(t),s.down)return s.dx=0,void(s.dy=0);Math.abs(s.dx*o)<1e-4&&(s.dx=0),Math.abs(s.dy*o)<1e-4&&(s.dy=0),0===s.dx&&0===s.dy||(s.dx-=s.dx*u,s.dy-=s.dy*u,r.rotate(s.dx,s.dy))}(),t.addEventListener("mousedown",function(t){s.x=t.clientX,s.y=t.clientY,s.dx=0,s.dy=0,s.down=!0,t.preventDefault()}),i.addEventListener("mouseup",function(t){s.down=!1}),i.addEventListener("mousemove",function(t){s.down&&(s.dx=c*(t.clientX-s.x),s.dy=c*(t.clientY-s.y),s.x=t.clientX,s.y=t.clientY,r.rotate(s.dx,s.dy))})}},function(t,n){t.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 color;\nattribute float occlusion;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 vBrightness;\nvarying vec3 vColor;\n\nvoid main() {\n\tgl_Position = projection * view * model * vec4(position, 1);\n\tvBrightness = vec3(occlusion);\n\tvColor = color;\n}\n"},function(t,n){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform float colorMix;\nuniform float aoMix;\n\nvarying vec3 vColor;\nvarying vec3 vBrightness;\n\nvoid main() {\n\tvec3 color = mix(vec3(1), vColor, colorMix);\n\tvec3 brightness = mix(vec3(1), vBrightness, aoMix);\n\n\tgl_FragColor = vec4(color * brightness, 1.0);\n}\n"},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(0);n.createSampleCollection=function(t,n){var r=1-(n=Math.max(Math.min(n||0,1),0)),o=t.positions,i=t.normals,a=t.indices,u=o.length/3,c=a.length/3,s={perVertex:Array.from({length:u}).map(function(t){return[]}),all:[]};if(!o||!i||!a)return s;for(var f,l=[e.vec3.create(),e.vec3.create(),e.vec3.create()],p=[e.vec3.create(),e.vec3.create(),e.vec3.create()],v=e.vec3.create(),h=e.vec3.create(),d=e.vec3.create(),y=0;y<c;y++){for(e.vec3.copyFromOffset(d,a,3*y),f=0;f<3;f++)e.vec3.copyFromOffset(l[f],o,3*d[f]),e.vec3.copyFromOffset(p[f],i,3*d[f]);for(e.vec3.add(v,l[0],l[1]),e.vec3.add(v,v,l[2]),e.vec3.scale(v,v,1/3),e.vec3.add(h,p[0],p[1]),e.vec3.add(h,h,p[2]),e.vec3.normalize(h,h),f=0;f<3;f++){var m={position:e.vec3.create(),normal:e.vec3.create()};e.vec3.scale(m.position,l[f],r),e.vec3.scaleAndAdd(m.position,m.position,v,n),e.vec3.scale(m.normal,p[f],r),e.vec3.scaleAndAdd(m.normal,m.normal,h,n),e.vec3.normalize(m.normal,m.normal),s.perVertex[d[0]].push(m),s.perVertex[d[1]].push(m),s.perVertex[d[2]].push(m),s.all.push(m)}}return s}},function(t,n,r){"use strict";var e=this&&this.__awaiter||function(t,n,r,e){return new(r||(r=Promise))(function(o,i){function a(t){try{c(e.next(t))}catch(t){i(t)}}function u(t){try{c(e.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new r(function(n){n(t.value)}).then(a,u)}c((e=e.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var r,e,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,e&&(o=2&i[0]?e.return:i[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,i[1])).done)return o;switch(e=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,e=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],e=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(0),a=r(1),u=r(22),c=r(117),s=r(120);function f(t,n){void 0===n&&(n=1);var r,e=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(r=e.length-1;r>0&&!(t>=e[r].value);r--);return(t/e[r].value).toFixed(n).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+e[r].symbol}n.renderSamples=function(t,n,r){return e(this,void 0,void 0,function(){var e,l,p,v,h,d,y,m,b,g,x,A,w,j,M,R,_,F,O,S,Y,P,E,T;return o(this,function(D){switch(D.label){case 0:r=Object.assign({near:.2,far:7,fov:.45*Math.PI,sampleSize:8},r||{}),e=n.length,l=r.sampleSize*r.sampleSize,p=l*e,v=Math.min(u.getSmallestPOTSize(p),2048),h=u.fbo(v),d=Math.floor(v/r.sampleSize),y=Math.pow(d,2),m=Math.ceil(e/y),b=i.vec3.create(),g=new Float32Array(e),x=0,A=e,w=0,console.log("Rendering samples / rays..."),console.log("--- STATS ---"),console.log("Vertices: "+f(t.positions.length/3)),console.log("Triangles: "+f(t.indices.length/3)),console.log("Views to render: "+f(e)),console.log("View size: "+r.sampleSize+"px x "+r.sampleSize+"px ("+l+"px area)"),console.log("Ray-count (i.e pixels): "+f(p)),j=function(){return new Promise(function(t){return requestAnimationFrame(t)})},M=a.regl({attributes:{position:a.regl.buffer(t.positions)},uniforms:{model:i.mat4.create(),projection:i.mat4.perspective(i.mat4.create(),r.fov,1,r.near,r.far),nearPlane:r.near,farPlane:r.far},elements:a.regl.elements(t.indices),framebuffer:h}),console.time("Time to render all rays"),D.label=1;case 1:if(!(w<m))return[3,5];for(R=Math.min(A,y),_=[],F=x,O=0;F<x+R;F++)S=n[F],i.vec3.add(b,S.position,S.normal),_.push({view:i.mat4.lookAt(i.mat4.create(),S.position,b,i.vec3.UP),viewport:{x:O%d*r.sampleSize,y:Math.floor(O/d)*r.sampleSize,width:r.sampleSize,height:r.sampleSize}}),O++;Y=!1,a.regl.clear({color:[0,0,0,0],depth:1,framebuffer:h}),P=function(){var t,n,e,i;return o(this,function(o){switch(o.label){case 0:return(t=_.splice(0,Math.min(_.length,1e3))).length>0&&M(function(n){s.renderDepth(t)}),r.onProgress?(n=w/m,e=1-_.length/R,i=n+e*(1/m),r.onProgress(i),[4,j()]):[3,2];case 1:o.sent(),o.label=2;case 2:return Y=_.length<1,[2]}})},D.label=2;case 2:return Y?[3,4]:[5,P()];case 3:return D.sent(),[3,2];case 4:for(E=c.reduceSamples(h,r.sampleSize,R,w===m-1),T=0;T<R;T++)g[x+T]=E[T];return x+=R,A-=R,w++,[3,1];case 5:return h.destroy(),console.timeEnd("Time to render all rays"),[2,g]}})})}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.waitForNextFrame=function(){return new Promise(function(t){requestAnimationFrame(t)})}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(1),o=r(22),i={};function a(t){return Math.log2(t)%1==0}n.reduceSamples=function(t,n,u,c){var s=t.width,f=Math.log2(n);if(s!==t.height||f<1||!a(s)||!a(f))throw new Error("Invalid dimensions of the source!");for(var l=[],p=s,v=0;v<f;v++){var h=(p/=2)+"";i[h]||(i[h]=o.fbo(p)),l.push(i[h])}var d=e.regl({vert:r(118),frag:r(119),attributes:{position:[-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]},count:6}),y=t;d(function(t){l.forEach(function(t){e.regl.clear({color:[0,0,0,1],depth:1,framebuffer:t}),e.regl({uniforms:{sourceTexture:y,screenSize:[t.width,t.height]},framebuffer:t})(),y=t})});var m,b,g=e.regl.read({framebuffer:y}),x=new Float32Array(u);for(v=0;v<u;v++)m=v%y.width,b=Math.floor(v/y.width),x[v]=g[4*(b*y.width+m)]/255;return c&&(Object.keys(i).forEach(function(t){i[t].destroy()}),i={}),x}},function(t,n){t.exports="precision highp float;\n#define GLSLIFY 1\nattribute vec2 position;\n\nvoid main() {\n\tgl_Position = vec4(position, 0, 1);\n}\n"},function(t,n){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D sourceTexture;\nuniform vec2 screenSize;\n\nconst vec2 corner1 = vec2(-1, -1);\nconst vec2 corner2 = vec2(+1, -1);\nconst vec2 corner3 = vec2(+1, +1);\nconst vec2 corner4 = vec2(-1, +1);\n\nvoid main() {\n\tvec2 center = gl_FragCoord.xy / screenSize;\n\tvec2 offset = vec2(0.25) / screenSize;\n\n\tlowp vec4 ao =\t(\n\t\ttexture2D(sourceTexture, corner1 * offset + center) +\n\t\ttexture2D(sourceTexture, corner2 * offset + center) +\n\t\ttexture2D(sourceTexture, corner3 * offset + center) +\n\t\ttexture2D(sourceTexture, corner4 * offset + center)\n\t) * 0.25;\n\n\tgl_FragColor = ao;\n}\n"},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(1),o=e.propBinder(e.regl);n.renderDepth=e.regl({vert:r(121),frag:r(122),attributes:{},uniforms:{view:o("view")},viewport:o("viewport"),cull:{enable:!1},colorMask:function(t,n){return n.colorMask||[!0,!0,!0,!0]}})},function(t,n){t.exports="precision mediump float;\n#define GLSLIFY 1\nattribute vec3 position;\nuniform mat4 model, view, projection;\nuniform float farPlane, nearPlane;\nvarying lowp vec3 color;\n\nvoid main() {\n\tvec4 cs_position = view * model * vec4(position, 1);\n\tcolor = vec3(1.0 -  min(((-cs_position.z - nearPlane) / (farPlane - nearPlane)), 1.0));\n\tgl_Position = projection * cs_position;\n}\n"},function(t,n){t.exports="#define GLSLIFY 1\nvarying lowp vec3 color;\n\nvoid main() {\n\tgl_FragColor = vec4(color, 1);\n}\n"}]);